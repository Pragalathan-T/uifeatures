{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import api from '../utils/api';\n// import './Register.css';\n// import { useAuth } from '../context/AuthContext';\n// export default function Register() {\n// const [form, setForm] = useState({ name: '', email: '', username: '', password: '', role: 'STUDENT' });\n// const [msg, setMsg] = useState(null);\n// const [err, setErr] = useState(null);\n// const [busy, setBusy] = useState(false);\n// const navigate = useNavigate();\n// const { login } = useAuth();\n// const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n// const onSubmit = async (e) => {\n// e.preventDefault();\n// if (busy) return;\n// setBusy(true);\n// setErr(null); setMsg(null);\n// try {\n// await api.register(form);\n// const { role } = await login({ username: form.username, password: form.password });\n// setMsg('Registered successfully');\n// navigate(`/${role.toLowerCase()}/dashboard`, { replace: true });\n// } catch (e2) {\n// setErr(e2?.message || 'Registration failed');\n// } finally {\n// setBusy(false);\n// }\n// };\n// return (\n// <div className=\"auth\">\n// <h2>Register</h2>\n// <form onSubmit={onSubmit} className=\"auth__form\">\n// <input name=\"name\" placeholder=\"Name\" value={form.name} onChange={onChange} />\n// <input name=\"email\" placeholder=\"Email\" value={form.email} onChange={onChange} />\n// <input name=\"username\" placeholder=\"Username\" value={form.username} onChange={onChange} />\n// <input name=\"password\" placeholder=\"Password\" type=\"password\" value={form.password} onChange={onChange} />\n// <select name=\"role\" value={form.role} onChange={onChange}>\n// <option>STUDENT</option>\n// <option>TEACHER</option>\n// <option>ADMIN</option>\n// </select>\n// <button type=\"submit\" disabled={busy}>{busy ? 'Registering‚Ä¶' : 'Register'}</button>\n// </form>\n// {msg && <p className=\"auth__success\">{msg}</p>}\n// {err && <p className=\"auth__error\">{err}</p>}\n// </div>\n// );\n// }\nimport React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import api from'../utils/api';import'./Register.css';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const[form,setForm]=useState({name:'',email:'',username:'',password:'',role:'STUDENT'});const[msg,setMsg]=useState(null);const[err,setErr]=useState(null);const[busy,setBusy]=useState(false);const navigate=useNavigate();const{login}=useAuth();const onChange=e=>setForm({...form,[e.target.name]:e.target.value});const onSubmit=async e=>{e.preventDefault();if(busy)return;setBusy(true);setErr(null);setMsg(null);try{await api.register(form);const{role}=await login({username:form.username,password:form.password});setMsg('Registered successfully');navigate(`/${role.toLowerCase()}/dashboard`,{replace:true});}catch(e2){setErr((e2===null||e2===void 0?void 0:e2.message)||'Registration failed');}finally{setBusy(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[70vh] bg-gradient-to-br from-purple-50 to-fuchsia-100 flex items-center justify-center px-4 py-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-gradient-to-br from-fuchsia-500 to-purple-600 text-white grid place-items-center\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 m-0\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"grid gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Name\",value:form.name,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Email\",value:form.email,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Username\",value:form.username,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Password\",type:\"password\",value:form.password,onChange:onChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",value:form.role,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"STUDENT\"}),/*#__PURE__*/_jsx(\"option\",{children:\"TEACHER\"}),/*#__PURE__*/_jsx(\"option\",{children:\"ADMIN\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:busy,className:\"mt-1 inline-flex items-center rounded-full bg-purple-600 text-white px-5 py-2 hover:bg-purple-700 transition disabled:opacity-50\",children:busy?'Registering‚Ä¶':'Create account'})]}),msg&&/*#__PURE__*/_jsx(\"p\",{className:\"auth__success mt-3 text-emerald-700\",children:msg}),err&&/*#__PURE__*/_jsx(\"p\",{className:\"auth__error mt-3 text-rose-600\",children:err}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-sky-700 hover:underline\",children:\"Sign in\"})]})]})});}","map":{"version":3,"names":["React","useState","useNavigate","Link","api","useAuth","jsx","_jsx","jsxs","_jsxs","Register","form","setForm","name","email","username","password","role","msg","setMsg","err","setErr","busy","setBusy","navigate","login","onChange","e","target","value","onSubmit","preventDefault","register","toLowerCase","replace","e2","message","className","children","placeholder","type","disabled","to"],"sources":["/workspace/reactapp/src/components/Register.js"],"sourcesContent":["// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import api from '../utils/api';\n// import './Register.css';\n// import { useAuth } from '../context/AuthContext';\n\n// export default function Register() {\n// const [form, setForm] = useState({ name: '', email: '', username: '', password: '', role: 'STUDENT' });\n// const [msg, setMsg] = useState(null);\n// const [err, setErr] = useState(null);\n// const [busy, setBusy] = useState(false);\n// const navigate = useNavigate();\n// const { login } = useAuth();\n\n// const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n// const onSubmit = async (e) => {\n// e.preventDefault();\n// if (busy) return;\n// setBusy(true);\n// setErr(null); setMsg(null);\n// try {\n// await api.register(form);\n// const { role } = await login({ username: form.username, password: form.password });\n// setMsg('Registered successfully');\n// navigate(`/${role.toLowerCase()}/dashboard`, { replace: true });\n// } catch (e2) {\n// setErr(e2?.message || 'Registration failed');\n// } finally {\n// setBusy(false);\n// }\n// };\n\n// return (\n// <div className=\"auth\">\n// <h2>Register</h2>\n// <form onSubmit={onSubmit} className=\"auth__form\">\n// <input name=\"name\" placeholder=\"Name\" value={form.name} onChange={onChange} />\n// <input name=\"email\" placeholder=\"Email\" value={form.email} onChange={onChange} />\n// <input name=\"username\" placeholder=\"Username\" value={form.username} onChange={onChange} />\n// <input name=\"password\" placeholder=\"Password\" type=\"password\" value={form.password} onChange={onChange} />\n// <select name=\"role\" value={form.role} onChange={onChange}>\n// <option>STUDENT</option>\n// <option>TEACHER</option>\n// <option>ADMIN</option>\n// </select>\n// <button type=\"submit\" disabled={busy}>{busy ? 'Registering‚Ä¶' : 'Register'}</button>\n// </form>\n// {msg && <p className=\"auth__success\">{msg}</p>}\n// {err && <p className=\"auth__error\">{err}</p>}\n// </div>\n// );\n// }\n\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport api from '../utils/api';\nimport './Register.css';\nimport { useAuth } from '../context/AuthContext';\n\nexport default function Register() {\nconst [form, setForm] = useState({ name: '', email: '', username: '', password: '', role: 'STUDENT' });\nconst [msg, setMsg] = useState(null);\nconst [err, setErr] = useState(null);\nconst [busy, setBusy] = useState(false);\nconst navigate = useNavigate();\nconst { login } = useAuth();\n\nconst onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\nconst onSubmit = async (e) => {\ne.preventDefault();\nif (busy) return;\nsetBusy(true);\nsetErr(null); setMsg(null);\ntry {\nawait api.register(form);\nconst { role } = await login({ username: form.username, password: form.password });\nsetMsg('Registered successfully');\nnavigate(`/${role.toLowerCase()}/dashboard`, { replace: true });\n} catch (e2) {\nsetErr(e2?.message || 'Registration failed');\n} finally {\nsetBusy(false);\n}\n};\n\nreturn (\n<div className=\"min-h-[70vh] bg-gradient-to-br from-purple-50 to-fuchsia-100 flex items-center justify-center px-4 py-10\">\n<div className=\"w-full max-w-md bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-6\">\n<div className=\"flex items-center gap-3 mb-4\">\n<div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-fuchsia-500 to-purple-600 text-white grid place-items-center\">üìù</div>\n<h2 className=\"text-xl font-bold text-gray-900 m-0\">Register</h2>\n</div>\n<form onSubmit={onSubmit} className=\"grid gap-3\">\n<input name=\"name\" className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Name\" value={form.name} onChange={onChange} />\n<input name=\"email\" className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Email\" value={form.email} onChange={onChange} />\n<input name=\"username\" className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Username\" value={form.username} onChange={onChange} />\n<input name=\"password\" className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Password\" type=\"password\" value={form.password} onChange={onChange} />\n<select name=\"role\" className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\" value={form.role} onChange={onChange}>\n<option>STUDENT</option>\n<option>TEACHER</option>\n<option>ADMIN</option>\n</select>\n<button type=\"submit\" disabled={busy} className=\"mt-1 inline-flex items-center rounded-full bg-purple-600 text-white px-5 py-2 hover:bg-purple-700 transition disabled:opacity-50\">\n{busy ? 'Registering‚Ä¶' : 'Create account'}\n</button>\n</form>\n{msg && <p className=\"auth__success mt-3 text-emerald-700\">{msg}</p>}\n{err && <p className=\"auth__error mt-3 text-rose-600\">{err}</p>}\n<p className=\"mt-4 text-sm text-gray-600\">\nAlready have an account?{' '}\n<Link to=\"/login\" className=\"text-sky-700 hover:underline\">Sign in</Link>\n</p>\n</div>\n</div>\n);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}