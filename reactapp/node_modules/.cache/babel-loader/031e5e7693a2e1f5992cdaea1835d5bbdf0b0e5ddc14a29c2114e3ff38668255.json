{"ast":null,"code":"import React,{useEffect,useState}from'react';import ReactDOM from'react-dom/client';import{BrowserRouter,HashRouter}from'react-router-dom';import App from'./App';import'./index.css';import{AuthProvider}from'./context/AuthContext';import ErrorBoundary from'./components/ErrorBoundary.jsx';import ToastProvider from'./components/ui/ToastProvider.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";function RouterSwitcher(){const[useHash,setUseHash]=useState(true);useEffect(()=>{if(useHash&&(!window.location.hash||!window.location.hash.startsWith('#/'))){window.location.hash='#/';}},[useHash]);const RouterComp=useHash?HashRouter:BrowserRouter;return/*#__PURE__*/_jsx(RouterComp,{children:/*#__PURE__*/_jsx(ErrorBoundary,{onError:()=>setUseHash(false),children:/*#__PURE__*/_jsx(App,{})})});}const root=ReactDOM.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsx(RouterSwitcher,{})})})}));","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","BrowserRouter","HashRouter","App","AuthProvider","ErrorBoundary","ToastProvider","jsx","_jsx","RouterSwitcher","useHash","setUseHash","window","location","hash","startsWith","RouterComp","children","onError","root","createRoot","document","getElementById","render","StrictMode"],"sources":["/workspace/reactapp/src/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport { AuthProvider } from './context/AuthContext';\nimport ErrorBoundary from './components/ErrorBoundary.jsx';\nimport ToastProvider from './components/ui/ToastProvider.jsx';\n\nfunction RouterSwitcher() {\nconst [useHash, setUseHash] = useState(true);\n\nuseEffect(() => {\nif (useHash && (!window.location.hash || !window.location.hash.startsWith('#/'))){\nwindow.location.hash = '#/';\n}\n}, [useHash]);\n\nconst RouterComp = useHash ? HashRouter : BrowserRouter;\n\nreturn (\n<RouterComp>\n<ErrorBoundary onError={() => setUseHash(false)}>\n<App />\n</ErrorBoundary>\n</RouterComp>\n);\n}\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n<React.StrictMode>\n<AuthProvider>\n<ToastProvider>\n<RouterSwitcher />\n</ToastProvider>\n</AuthProvider>\n</React.StrictMode>\n);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,aAAa,CAAEC,UAAU,KAAQ,kBAAkB,CAC5D,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,MAAO,aAAa,CACpB,OAASC,YAAY,KAAQ,uBAAuB,CACpD,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,aAAa,KAAM,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9D,QAAS,CAAAC,cAAcA,CAAA,CAAG,CAC1B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CAChB,GAAIY,OAAO,GAAK,CAACE,MAAM,CAACC,QAAQ,CAACC,IAAI,EAAI,CAACF,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CACjFH,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,IAAI,CAC3B,CACA,CAAC,CAAE,CAACJ,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAM,UAAU,CAAGN,OAAO,CAAGR,UAAU,CAAGD,aAAa,CAEvD,mBACAO,IAAA,CAACQ,UAAU,EAAAC,QAAA,cACXT,IAAA,CAACH,aAAa,EAACa,OAAO,CAAEA,CAAA,GAAMP,UAAU,CAAC,KAAK,CAAE,CAAAM,QAAA,cAChDT,IAAA,CAACL,GAAG,GAAE,CAAC,CACQ,CAAC,CACJ,CAAC,CAEb,CAEA,KAAM,CAAAgB,IAAI,CAAGnB,QAAQ,CAACoB,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC,CACjEH,IAAI,CAACI,MAAM,cACXf,IAAA,CAACX,KAAK,CAAC2B,UAAU,EAAAP,QAAA,cACjBT,IAAA,CAACJ,YAAY,EAAAa,QAAA,cACbT,IAAA,CAACF,aAAa,EAAAW,QAAA,cACdT,IAAA,CAACC,cAAc,GAAE,CAAC,CACH,CAAC,CACF,CAAC,CACG,CAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}