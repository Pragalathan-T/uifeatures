{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useNavigate, useLocation } from 'react-router-dom';\n// import './Login.css';\n// import { useAuth } from '../context/AuthContext';\n// export default function Login() {\n// const [username, setUsername] = useState('');\n// const [password, setPassword] = useState('');\n// const [error, setError] = useState(null);\n// const navigate = useNavigate();\n// const location = useLocation();\n// const { login } = useAuth();\n// const onSubmit = async (e) => {\n// e.preventDefault();\n// setError(null);\n// try {\n// const { role } = await login({ username, password });\n// const fromState = location.state && location.state.from;\n// if (fromState) return navigate(fromState, { replace: true });\n// const dest = `/${role.toLowerCase()}/dashboard`;\n// navigate(dest);\n// } catch (err) {\n// setError('Invalid credentials');\n// }\n// };\n// return (\n// <div className=\"auth\">\n// <h2>Login</h2>\n// <form onSubmit={onSubmit} className=\"auth__form\">\n// <input placeholder=\"Username\" value={username} onChange={(e) => setUsername(e.target.value)} />\n// <input placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n// <button type=\"submit\">Login</button>\n// </form>\n// {error && <p className=\"auth__error\">{error}</p>}\n// </div>\n// );\n// }\nimport React,{useState}from'react';import{useNavigate,useLocation,Link}from'react-router-dom';import'./Login.css';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const navigate=useNavigate();const location=useLocation();const{login}=useAuth();const onSubmit=async e=>{e.preventDefault();setError(null);try{const{role}=await login({username,password});const fromState=location.state&&location.state.from;if(fromState)return navigate(fromState,{replace:true});const dest=`/${role.toLowerCase()}/dashboard`;navigate(dest);}catch{setError('Invalid credentials');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[70vh] bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center px-4 py-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-gradient-to-br from-sky-500 to-cyan-600 text-white grid place-items-center\",children:\"\\uFFFD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 m-0\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"grid gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500\",placeholder:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-1 inline-flex items-center rounded-full bg-sky-600 text-white px-5 py-2 hover:bg-sky-700 transition\",children:\"Sign in\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"auth__error mt-3 text-rose-600\",children:error}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm text-gray-600\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-emerald-700 hover:underline\",children:\"Create one\"})]})]})});}","map":{"version":3,"names":["React","useState","useNavigate","useLocation","Link","useAuth","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","error","setError","navigate","location","login","onSubmit","e","preventDefault","role","fromState","state","from","replace","dest","toLowerCase","className","children","placeholder","value","onChange","target","type","to"],"sources":["/workspace/reactapp/src/components/Login.js"],"sourcesContent":["// import React, { useState } from 'react';\n// import { useNavigate, useLocation } from 'react-router-dom';\n// import './Login.css';\n// import { useAuth } from '../context/AuthContext';\n\n// export default function Login() {\n// const [username, setUsername] = useState('');\n// const [password, setPassword] = useState('');\n// const [error, setError] = useState(null);\n// const navigate = useNavigate();\n// const location = useLocation();\n// const { login } = useAuth();\n\n// const onSubmit = async (e) => {\n// e.preventDefault();\n// setError(null);\n// try {\n// const { role } = await login({ username, password });\n// const fromState = location.state && location.state.from;\n// if (fromState) return navigate(fromState, { replace: true });\n// const dest = `/${role.toLowerCase()}/dashboard`;\n// navigate(dest);\n// } catch (err) {\n// setError('Invalid credentials');\n// }\n// };\n\n// return (\n// <div className=\"auth\">\n// <h2>Login</h2>\n// <form onSubmit={onSubmit} className=\"auth__form\">\n// <input placeholder=\"Username\" value={username} onChange={(e) => setUsername(e.target.value)} />\n// <input placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n// <button type=\"submit\">Login</button>\n// </form>\n// {error && <p className=\"auth__error\">{error}</p>}\n// </div>\n// );\n// }\n\nimport React, { useState } from 'react';\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\nimport './Login.css';\nimport { useAuth } from '../context/AuthContext';\n\nexport default function Login() {\nconst [username, setUsername] = useState('');\nconst [password, setPassword] = useState('');\nconst [error, setError] = useState(null);\nconst navigate = useNavigate();\nconst location = useLocation();\nconst { login } = useAuth();\n\nconst onSubmit = async (e) => {\ne.preventDefault();\nsetError(null);\ntry {\nconst { role } = await login({ username, password });\nconst fromState = location.state && location.state.from;\nif (fromState) return navigate(fromState, { replace: true });\nconst dest = `/${role.toLowerCase()}/dashboard`;\nnavigate(dest);\n} catch {\nsetError('Invalid credentials');\n}\n};\n\nreturn (\n<div className=\"min-h-[70vh] bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center px-4 py-10\">\n<div className=\"w-full max-w-md bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-6\">\n<div className=\"flex items-center gap-3 mb-4\">\n<div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-sky-500 to-cyan-600 text-white grid place-items-center\">ï¿½</div>\n<h2 className=\"text-xl font-bold text-gray-900 m-0\">Login</h2>\n</div>\n<form onSubmit={onSubmit} className=\"grid gap-3\">\n<input className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500\" placeholder=\"Username\" value={username} onChange={(e) => setUsername(e.target.value)} />\n<input className=\"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n<button type=\"submit\" className=\"mt-1 inline-flex items-center rounded-full bg-sky-600 text-white px-5 py-2 hover:bg-sky-700 transition\">Sign in</button>\n</form>\n{error && <p className=\"auth__error mt-3 text-rose-600\">{error}</p>}\n<p className=\"mt-4 text-sm text-gray-600\">\nDon&apos;t have an account?{' '}\n<Link to=\"/register\" className=\"text-emerald-700 hover:underline\">Create one</Link>\n</p>\n</div>\n</div>\n);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}