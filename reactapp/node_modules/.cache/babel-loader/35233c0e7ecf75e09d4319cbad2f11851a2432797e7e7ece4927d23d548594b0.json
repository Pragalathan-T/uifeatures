{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../utils/api';import'./ExamManagement.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ExamManagement(_ref){let{username='teacher1'}=_ref;const[page,setPage]=useState(0);const[size]=useState(10);const[exams,setExams]=useState([]);const[msg,setMsg]=useState(null);const[err,setErr]=useState(null);const load=async()=>{try{const res=await api.mgmtGetExamsByTeacher(username,{page,size});setExams(res.data||[]);}catch{setErr('Failed to load');}};useEffect(()=>{load();},[username,page,size]);const toggle=async(examId,isActive)=>{try{await api.mgmtUpdateExamStatus(examId,{isActive});setMsg('Status updated');load();}catch{setErr('Update failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"xm min-h-screen bg-[#f7f8fa] p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Exam Management\"}),err&&/*#__PURE__*/_jsx(\"p\",{className:\"xm__err text-red-600\",children:err}),msg&&/*#__PURE__*/_jsx(\"p\",{className:\"xm__msg text-green-700\",children:msg}),/*#__PURE__*/_jsx(\"ul\",{className:\"xm__list grid gap-4 sm:grid-cols-2 lg:grid-cols-3\",children:exams.map((e,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white rounded-xl shadow-sm ring-1 ring-gray-200 p-4 hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-gray-900\",children:e.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:e.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-sm\",children:[\"Duration: \",e.duration]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-sm\",children:[\"Active: \",String(e.isActive)]}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 inline-flex items-center rounded-full bg-[#2563eb] text-white px-4 py-2 hover:bg-[#1e40af] transition\",onClick:()=>toggle(e.examId,!e.isActive),children:e.isActive?'Deactivate':'Activate'})]},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"xm__pager mt-4 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"rounded-full px-4 py-2 border\",disabled:page===0,onClick:()=>setPage(p=>p-1),children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",page+1]}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded-full px-4 py-2 border\",onClick:()=>setPage(p=>p+1),children:\"Next\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","ExamManagement","_ref","username","page","setPage","size","exams","setExams","msg","setMsg","err","setErr","load","res","mgmtGetExamsByTeacher","data","toggle","examId","isActive","mgmtUpdateExamStatus","className","children","map","e","i","title","description","duration","String","onClick","disabled","p"],"sources":["/workspace/reactapp/src/components/ExamManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../utils/api';\nimport './ExamManagement.css';\n\nexport default function ExamManagement({ username = 'teacher1' }) {\nconst [page, setPage] = useState(0);\nconst [size] = useState(10);\nconst [exams, setExams] = useState([]);\nconst [msg, setMsg] = useState(null);\nconst [err, setErr] = useState(null);\n\nconst load = async () => {\ntry {\nconst res = await api.mgmtGetExamsByTeacher(username, { page, size });\nsetExams(res.data || []);\n} catch {\nsetErr('Failed to load');\n}\n};\nuseEffect(() => { load(); }, [username, page, size]);\n\nconst toggle = async (examId, isActive) => {\ntry {\nawait api.mgmtUpdateExamStatus(examId, { isActive });\nsetMsg('Status updated');\nload();\n} catch { setErr('Update failed'); }\n};\n\nreturn (\n<div className=\"xm min-h-screen bg-[#f7f8fa] p-4 md:p-6\">\n<h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Exam Management</h2>\n{err && <p className=\"xm__err text-red-600\">{err}</p>}\n{msg && <p className=\"xm__msg text-green-700\">{msg}</p>}\n<ul className=\"xm__list grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n{exams.map((e, i) => (\n<li key={i} className=\"bg-white rounded-xl shadow-sm ring-1 ring-gray-200 p-4 hover:shadow-md transition\">\n<div className=\"text-lg font-semibold text-gray-900\">{e.title}</div>\n<div className=\"text-sm text-gray-600\">{e.description}</div>\n<div className=\"mt-1 text-sm\">Duration: {e.duration}</div>\n<div className=\"mt-1 text-sm\">Active: {String(e.isActive)}</div>\n<button\nclassName=\"mt-3 inline-flex items-center rounded-full bg-[#2563eb] text-white px-4 py-2 hover:bg-[#1e40af] transition\"\nonClick={() => toggle(e.examId, !e.isActive)}\n>\n{e.isActive ? 'Deactivate' : 'Activate'}\n</button>\n</li>\n))}\n</ul>\n<div className=\"xm__pager mt-4 flex items-center gap-3\">\n<button className=\"rounded-full px-4 py-2 border\" disabled={page===0} onClick={() => setPage(p=>p-1)}>Prev</button>\n<span>Page {page+1}</span>\n<button className=\"rounded-full px-4 py-2 border\" onClick={() => setPage(p=>p+1)}>Next</button>\n</div>\n</div>\n);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}